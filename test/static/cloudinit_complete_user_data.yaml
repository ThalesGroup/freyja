hostname: vm1
output:
  all: '>> /var/log/cloud-init.log'
users:
- name: sam
  sudo:
  - ALL=(ALL) NOPASSWD:ALL
  lock_passwd: false
  shell: /bin/bash
  passwd: $6$6LEpjaxLaT/pu5$wwHsyMlZ2JpHObVJBKGbZUmR5oJ4GocH0zRQYKAuWEwq9ifG4N3Vi/E3ZXTj1bK.QQrOmttA7zIZUIEBaU6Yx.
  groups: group1,group2,sudo
  ssh_authorized_keys:
  - key
  - key
- name: frodo
  lock_passwd: false
  shell: /bin/bash
  passwd: $6$6LEpjaxLaT/pu5$wwHsyMlZ2JpHObVJBKGbZUmR5oJ4GocH0zRQYKAuWEwq9ifG4N3Vi/E3ZXTj1bK.QQrOmttA7zIZUIEBaU6Yx.
package_update: true
package_upgrade: true
packages:
- curl
- net-tools
write_files:
- content: aGVsbG8=
  encoding: base64
  path: /root/hello.txt
  permissions: "0700"
  owner: root:freyja
- content: d29ybGQ=
  encoding: base64
  path: /home/sam/world.txt
runcmd:
- echo 'hello world !' > /tmp/test.txt
- cat /tmp/test.txt
power_state:
  mode: reboot
  message: First reboot
  timeout: 30
  condition: true
