<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-troubleshooting">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Troubleshooting | Freyja</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://thalesgroup.github.io/freyja/docs/troubleshooting"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Troubleshooting | Freyja"><meta data-rh="true" name="description" content="libvirt-qemu permission denied on home user"><meta data-rh="true" property="og:description" content="libvirt-qemu permission denied on home user"><link data-rh="true" rel="icon" href="/freyja/img/freyja.png"><link data-rh="true" rel="canonical" href="https://thalesgroup.github.io/freyja/docs/troubleshooting"><link data-rh="true" rel="alternate" href="https://thalesgroup.github.io/freyja/docs/troubleshooting" hreflang="en"><link data-rh="true" rel="alternate" href="https://thalesgroup.github.io/freyja/docs/troubleshooting" hreflang="x-default"><link rel="stylesheet" href="/freyja/assets/css/styles.511c244b.css">
<link rel="preload" href="/freyja/assets/js/runtime~main.62684c58.js" as="script">
<link rel="preload" href="/freyja/assets/js/main.10c962b6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/freyja/"><div class="navbar__logo"><img src="/freyja/img/freyja.png" alt="freyja logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/freyja/img/freyja.png" alt="freyja logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Freyja</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/freyja/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ThalesGroup/freyja" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/freyja/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/freyja/docs/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/freyja/docs/Installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/freyja/docs/quickstart">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/freyja/docs/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/freyja/docs/troubleshooting">Troubleshooting</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/freyja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Troubleshooting</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Troubleshooting</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="libvirt-qemu-permission-denied-on-home-user">libvirt-qemu permission denied on home user<a href="#libvirt-qemu-permission-denied-on-home-user" class="hash-link" aria-label="Direct link to libvirt-qemu permission denied on home user" title="Direct link to libvirt-qemu permission denied on home user">â€‹</a></h2><p>Creating a VM, you encounter the following error :</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">WARNING  /home/user/freyja-workspace/build/almalinux/almalinux_cloud_init.iso may not be accessible by th</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e hypervisor. You will need to grant the &#x27;libvirt-qemu&#x27; user search permissions for the following directo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ries: [&#x27;/home/user&#x27;]                                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ERROR    Cannot access storage file &#x27;/home/user/freyja-workspace/build/image/image_snapshot&#x27; (as </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uid:64055, gid:109): Permission denied                                                                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Domain installation does not appear to have been successful.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To solve this issue, set ACL of your host :</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">setacl u:libvirt-qemu:r $HOME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getacl -e $HOME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># file: home/user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># owner: user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># group: user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user::rwx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user:libvirt-qemu:r             #effective:r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group::r-x                      #effective:r-x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mask::r-x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">other::---</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="qemu-unexpectedly-closed-the-monitor">Qemu unexpectedly closed the monitor<a href="#qemu-unexpectedly-closed-the-monitor" class="hash-link" aria-label="Direct link to Qemu unexpectedly closed the monitor" title="Direct link to Qemu unexpectedly closed the monitor">â€‹</a></h2><p>These kind of issues are often due to Apparmor or Selinux.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apparmor">Apparmor<a href="#apparmor" class="hash-link" aria-label="Direct link to Apparmor" title="Direct link to Apparmor">â€‹</a></h3><p>Start by studying the error :</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo journalctl -xe</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You might encounter several kind of issues related to apparmor.</p><p><strong>CASE 1</strong></p><p>Output of <code>journalctl</code> error :</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apparmor=&quot;DENIED&quot; operation=&quot;file_mmap&quot; profile=&quot;virt-aa-helper&quot; name=&quot;/opt/openssl/lib/libcrypto.so</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To solve this, you should grant <code>mmap</code> permission to <code>virt-aa-helper</code> for <code>libcrypto.so</code>.<br>
<!-- -->Update <code>/etc/apparmor.d/usr.lib.libvirt.virt-aa-helper</code> with <code>mmap</code> permission for <code>libcrypto</code> :</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;  /opt/openssl/lib/libcrypto.so.1.1 m,&quot; &gt;&gt; /etc/apparmor.d/usr.lib.libvirt.virt-aa-helper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl restart apparmor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>CASE 2</strong></p><p>Output of <code>journalctl</code> error :</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apparmor=&quot;DENIED&quot; operation=&quot;open&quot; profile=&quot;libvirt-2938f233-2589-4f85-9aa8-2f1cabd92dbf&quot; name=&quot;~/freyja-workspace/build/myvm/provisioning.ign&quot; pid=11837 comm=&quot;qemu-system-x86&quot; requested_mask=&quot;r&quot; denied_mask=&quot;r&quot; fsuid=64055 ouid=1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To solve this, you should grant <code>read</code> permission for <code>libvirt</code> for ignition files directory.
Update <code>/etc/apparmor.d/abstractions/libvirt-qemu</code> with <code>read</code> permission for the Freyja workspace :</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;  /home/&lt;user&gt;/freyja-workspace/** r,&quot; &gt;&gt; /etc/apparmor.d/abstractions/libvirt-qemu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl restart apparmor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ip-is-unknown">IP is &#x27;unknown&#x27;<a href="#ip-is-unknown" class="hash-link" aria-label="Direct link to IP is &#x27;unknown&#x27;" title="Direct link to IP is &#x27;unknown&#x27;">â€‹</a></h2><p>The first reason might be that the virtual machine is shut off. Start it to verify the IP.</p><p>The second reason might be that the bridge is taking time to mount the vm IP on the host interface.<br>
<!-- -->Wait a few seconds and check again.</p><p>The third reason might be caused by an external DHCP resolution.<br>
<!-- -->Freyja is only capable of deducing IP addresses resolved on interfaces that are related to DHCP resolution from
libvirt on your local host. If the interface you are using for the current machine is not related to libvirt, the IP
resolution is made by an external server and Freyja is not able to give this information to you.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interface-is-unknown">Interface is &#x27;unknown&#x27;<a href="#interface-is-unknown" class="hash-link" aria-label="Direct link to Interface is &#x27;unknown&#x27;" title="Direct link to Interface is &#x27;unknown&#x27;">â€‹</a></h2><p>The first reason might be that the virtual machine is shut off. Start it to verify the interface.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="os-versions-are-missing-in-osinfo-query-os">OS versions are missing in <code>osinfo-query os</code><a href="#os-versions-are-missing-in-osinfo-query-os" class="hash-link" aria-label="Direct link to os-versions-are-missing-in-osinfo-query-os" title="Direct link to os-versions-are-missing-in-osinfo-query-os">â€‹</a></h2><p>You need to update your osinfo database :</p><ol><li>Install the package <code>osinfo-db-tools</code> on your system</li><li>Download the last version of the <code>osinfo-db-&lt;version&gt;.tar.xz</code> database. You may check the last version by visiting the <a href="https://releases.pagure.org/libosinfo/" target="_blank" rel="noopener noreferrer">libosinfo index site <!-- -->[<!-- -->?<!-- -->]</a> :</li></ol><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget -O &quot;/tmp/osinfo-db.tar.xz&quot; &quot;https://releases.pagure.org/libosinfo/osinfo-db-20220214.tar.xz&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo osinfo-db-import --local /tmp/osinfo-db.tar.xz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">osinfo-query os  # the os list should be updated </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="policykit">PolicyKit<a href="#policykit" class="hash-link" aria-label="Direct link to PolicyKit" title="Direct link to PolicyKit">â€‹</a></h2><p>libvirt has a policy in <code>/usr/share/polkit-1/rules.d/60-libvirt.rules</code> that allows the users taking part to the group
<code>libvirt</code> to manage virtual machines.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-tests">Run tests<a href="#run-tests" class="hash-link" aria-label="Direct link to Run tests" title="Direct link to Run tests">â€‹</a></h2><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">poetry run pytest --cov=freyja freyja/tests/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-build">Run build<a href="#run-build" class="hash-link" aria-label="Direct link to Run build" title="Direct link to Run build">â€‹</a></h2><p>Install Poetry.</p><p>Then run :</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./build.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/troubleshooting.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/freyja/docs/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#libvirt-qemu-permission-denied-on-home-user" class="table-of-contents__link toc-highlight">libvirt-qemu permission denied on home user</a></li><li><a href="#qemu-unexpectedly-closed-the-monitor" class="table-of-contents__link toc-highlight">Qemu unexpectedly closed the monitor</a><ul><li><a href="#apparmor" class="table-of-contents__link toc-highlight">Apparmor</a></li></ul></li><li><a href="#ip-is-unknown" class="table-of-contents__link toc-highlight">IP is &#39;unknown&#39;</a></li><li><a href="#interface-is-unknown" class="table-of-contents__link toc-highlight">Interface is &#39;unknown&#39;</a></li><li><a href="#os-versions-are-missing-in-osinfo-query-os" class="table-of-contents__link toc-highlight">OS versions are missing in <code>osinfo-query os</code></a></li><li><a href="#policykit" class="table-of-contents__link toc-highlight">PolicyKit</a></li><li><a href="#run-tests" class="table-of-contents__link toc-highlight">Run tests</a></li><li><a href="#run-build" class="table-of-contents__link toc-highlight">Run build</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Freyja, ThalesGroup. Built with Docusaurus.</div></div></div></footer></div>
<script src="/freyja/assets/js/runtime~main.62684c58.js"></script>
<script src="/freyja/assets/js/main.10c962b6.js"></script>
</body>
</html>